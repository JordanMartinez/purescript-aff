<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill-opacity="1" color-rendering="auto" color-interpolation="auto" text-rendering="auto" stroke="black" stroke-linecap="square" width="3811" stroke-miterlimit="10" shape-rendering="auto" stroke-opacity="1" fill="black" stroke-dasharray="none" font-weight="normal" stroke-width="1" height="2953" font-family="'Dialog'" font-style="normal" stroke-linejoin="miter" font-size="12px" stroke-dashoffset="0" image-rendering="auto">
  <!--Generated by ySVG 2.5-->
  <defs id="genericDefs"/>
  <g>
    <defs id="defs1">
      <clipPath clipPathUnits="userSpaceOnUse" id="clipPath1">
        <path d="M0 0 L3811 0 L3811 2953 L0 2953 L0 0 Z"/>
      </clipPath>
      <clipPath clipPathUnits="userSpaceOnUse" id="clipPath2">
        <path d="M-1508 132 L2303 132 L2303 3085 L-1508 3085 L-1508 132 Z"/>
      </clipPath>
    </defs>
    <g fill="white" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="translate(1508,-132)" stroke="white">
      <rect x="-1508" width="3811" height="2953" y="132" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="472.273" width="103.1387" height="30" y="1005" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="472.273" width="103.1387" height="30" y="1005" clip-path="url(#clipPath2)"/>
      <text x="479.273" xml:space="preserve" y="1024.1543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">6. SUSPENDED</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="316.5602" width="92.2754" height="30" y="1117.5" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="316.5602" width="92.2754" height="30" y="1117.5" clip-path="url(#clipPath2)"/>
      <text x="323.5602" xml:space="preserve" y="1136.6543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">3. CONTINUE</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="298.9336" width="95.0176" height="30" y="797.8125" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="298.9336" width="95.0176" height="30" y="797.8125" clip-path="url(#clipPath2)"/>
      <text x="305.9336" xml:space="preserve" y="816.9668" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. STEP_BIND</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="290.7598" width="111.3652" height="30" y="609" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="290.7598" width="111.3652" height="30" y="609" clip-path="url(#clipPath2)"/>
      <text x="297.7598" xml:space="preserve" y="628.1543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. STEP_RESULT</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="2203.5723" width="84.1133" height="30" y="216.5" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="2203.5723" width="84.1133" height="30" y="216.5" clip-path="url(#clipPath2)"/>
      <text x="2210.5723" xml:space="preserve" y="235.6543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">7. PENDING</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="789.4004" width="78.6113" height="30" y="545" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="789.4004" width="78.6113" height="30" y="545" clip-path="url(#clipPath2)"/>
      <text x="796.4004" xml:space="preserve" y="564.1543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">4. RETURN</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="1564.7129" width="103.0977" height="30" y="464" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="1564.7129" width="103.0977" height="30" y="464" clip-path="url(#clipPath2)"/>
      <text x="1571.7129" xml:space="preserve" y="483.1543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">5. COMPLETED</text>
    </g>
    <g fill="white" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="white">
      <rect x="2212.6426" width="65.9727" height="30" y="464" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="2212.6426" width="65.9727" height="30" y="464" clip-path="url(#clipPath2)"/>
      <text x="2219.6426" xml:space="preserve" y="483.1543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">exit loop</text>
      <path fill="none" d="M523.8424 1035 L523.8424 1081.5 L463.3333 1081.5 L399.4325 1113.8837" clip-path="url(#clipPath2)"/>
      <path d="M392.2965 1117.5 L405.2607 1116.5355 L400.3245 1113.4316 L400.7403 1107.6155 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="432.8437" xml:space="preserve" y="1109.7953" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Change the status, </text>
      <text x="432.8437" xml:space="preserve" y="1123.764" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">so that computation</text>
      <text x="432.8437" xml:space="preserve" y="1137.7328" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> will continue</text>
      <path fill="none" d="M347.2051 827.8125 L361.5289 1109.5104" clip-path="url(#clipPath2)"/>
      <path d="M361.9352 1117.5 L366.3193 1105.2616 L361.4781 1108.5116 L356.3322 1105.7694 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="372.3857" xml:space="preserve" y="861.1306" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Shift values to the left by 1, so that </text>
      <text x="372.3857" xml:space="preserve" y="875.0994" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">we're ready to execute the next computation:</text>
      <text x="372.3857" xml:space="preserve" y="889.0681" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="372.3857" xml:space="preserve" y="903.0369" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = head</text>
      <text x="372.3857" xml:space="preserve" y="917.0056" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">head = tail's head</text>
      <text x="372.3857" xml:space="preserve" y="930.9744" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">tail = tail's tail</text>
      <path fill="none" d="M346.4424 639 L346.4424 789.8125" clip-path="url(#clipPath2)"/>
      <path d="M346.4424 797.8125 L351.4424 785.8125 L346.4424 788.8125 L341.4424 785.8125 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="75.1396" xml:space="preserve" y="675.6487" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">3. When there are more computations to do </text>
      <text x="75.1396" xml:space="preserve" y="689.6175" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    (i.e. bhead !== null is implied) and </text>
      <text x="75.1396" xml:space="preserve" y="703.5862" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    the computation was a success</text>
      <text x="75.1396" xml:space="preserve" y="717.555" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    (i.e. util.isRight(step) === true), </text>
      <text x="75.1396" xml:space="preserve" y="731.5237" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    store the value in step but without </text>
      <text x="75.1396" xml:space="preserve" y="745.4925" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    the 'Right' data constructor</text>
      <text x="75.1396" xml:space="preserve" y="759.4612" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="75.1396" xml:space="preserve" y="773.43" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = fromRight step</text>
      <path fill="none" d="M402.125 624 L458.3333 624 L458.3333 560 L781.4004 560" clip-path="url(#clipPath2)"/>
      <path d="M789.4004 560 L777.4004 555 L780.4004 560 L777.4004 565 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="487.7321" xml:space="preserve" y="438.0374" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. When an error occurs (i.e. isLeft(step) === true), </text>
      <text x="487.7321" xml:space="preserve" y="452.0062" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    store the error in `fail` without removing the </text>
      <text x="487.7321" xml:space="preserve" y="465.9749" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    Left data constructor and remove any next </text>
      <text x="487.7321" xml:space="preserve" y="479.9437" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    computations:</text>
      <text x="487.7321" xml:space="preserve" y="493.9124" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="487.7321" xml:space="preserve" y="507.8812" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">fail = step</text>
      <text x="487.7321" xml:space="preserve" y="521.8499" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = null</text>
      <path fill="none" d="M402.125 624 L458.3333 624 L458.3333 682 L742.4561 682 L813.4833 581.5324" clip-path="url(#clipPath2)"/>
      <path d="M818.1016 575 L807.0915 581.9122 L812.9061 582.3489 L815.257 587.685 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="466.3913" xml:space="preserve" y="640.104" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. There aren't anymore computaions to do</text>
      <text x="466.3913" xml:space="preserve" y="654.0728" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     (i.e. bhead === null)</text>
      <path fill="none" d="M868.0117 560 L1323.8334 560 L1323.8334 479 L1556.7129 479" clip-path="url(#clipPath2)"/>
      <path d="M1564.7129 479 L1552.7129 474 L1555.7129 479 L1552.7129 484 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="1315.0531" xml:space="preserve" y="394.7263" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. Stack has returned and </text>
      <text x="1315.0531" xml:space="preserve" y="408.695" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    no other stacks to resume or</text>
      <text x="1315.0531" xml:space="preserve" y="422.6638" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    finalizers to run (attempts === null)</text>
      <text x="1315.0531" xml:space="preserve" y="436.6325" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="1315.0531" xml:space="preserve" y="450.6013" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = interupt || fail || step</text>
      <path fill="none" d="M1667.8105 479 L2204.6426 479" clip-path="url(#clipPath2)"/>
      <path d="M2212.6426 479 L2200.6426 474 L2203.6426 479 L2200.6426 484 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="1691.6836" xml:space="preserve" y="318.3105" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">For each join, run the computation and throw the error if one occurs</text>
      <text x="1691.6836" xml:space="preserve" y="332.2793" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="1691.6836" xml:space="preserve" y="346.248" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Set joins to null</text>
      <text x="1691.6836" xml:space="preserve" y="360.2168" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="1691.6836" xml:space="preserve" y="374.1855" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">If thread threw while running finalizers (i.e. interrupt &amp;&amp; fail), </text>
      <text x="1691.6836" xml:space="preserve" y="388.1543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">  remove Left data constructor and rethrow fail value</text>
      <text x="1691.6836" xml:space="preserve" y="402.123" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="1691.6836" xml:space="preserve" y="416.0918" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">if have unhandled exception and no fiber has joined (i.e. isLeft(step) &amp;&amp; rethrow), </text>
      <text x="1691.6836" xml:space="preserve" y="430.0605" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">  remove Left data constructor and rethrow step value</text>
      <text x="1691.6836" xml:space="preserve" y="444.0293" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="1691.6836" xml:space="preserve" y="457.998" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Otherwise, do nothing else</text>
      <path fill="none" d="M2245.6289 246.5 L2245.6289 456" clip-path="url(#clipPath2)"/>
      <path d="M2245.6289 464 L2250.6289 452 L2245.6289 455 L2240.6289 452 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g fill="rgb(235,235,235)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(235,235,235)">
      <rect x="1316.1859" width="196" height="56.3828" y="717.6172" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g font-size="15px" stroke-linecap="butt" transform="matrix(1,0,0,1,1508,-132)" text-rendering="geometricPrecision" font-family="sans-serif" shape-rendering="geometricPrecision" stroke-miterlimit="1.45">
      <text x="1338.7428" xml:space="preserve" y="733.5405" clip-path="url(#clipPath2)" stroke="none">RETURN -&gt; RETURN</text>
      <text x="1330.2028" xml:space="preserve" y="751.0015" clip-path="url(#clipPath2)" stroke="none">RETURN -&gt; CONTINUE</text>
      <text x="1328.4889" xml:space="preserve" y="768.4624" clip-path="url(#clipPath2)" stroke="none">RETURN -&gt; STEP_BIND</text>
      <rect x="1316.1859" y="717.6172" clip-path="url(#clipPath2)" fill="none" width="196" stroke-dasharray="6,2" rx="4" ry="4" height="2352.1484"/>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="1331.1859" width="70.584" height="30" y="789" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="1331.1859" width="70.584" height="30" y="789" clip-path="url(#clipPath2)"/>
      <text x="1338.1859" xml:space="preserve" y="808.1543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. CATCH</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="1355.7181" width="79.5195" height="30" y="1145.5" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="1355.7181" width="79.5195" height="30" y="1145.5" clip-path="url(#clipPath2)"/>
      <text x="1362.7181" xml:space="preserve" y="1164.6543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. RESUME</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="1357.8763" width="85.2031" height="30" y="1501.5" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="1357.8763" width="85.2031" height="30" y="1501.5" clip-path="url(#clipPath2)"/>
      <text x="1364.8763" xml:space="preserve" y="1520.6543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">3. BRACKET</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="1359.0482" width="82.8594" height="30" y="2124" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="1359.0482" width="82.8594" height="30" y="2124" clip-path="url(#clipPath2)"/>
      <text x="1366.0482" xml:space="preserve" y="2143.1543" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">4. RELEASE</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="1356.8499" width="91.2559" height="30" y="2717.5781" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="1356.8499" width="91.2559" height="30" y="2717.5781" clip-path="url(#clipPath2)"/>
      <text x="1363.85" xml:space="preserve" y="2736.7324" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">5. FINALIZER</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="1356.306" width="88.3438" height="30" y="2997.9102" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="1356.306" width="88.3438" height="30" y="2997.9102" clip-path="url(#clipPath2)"/>
      <text x="1363.306" xml:space="preserve" y="3017.0645" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">6 FINALIZED</text>
      <path fill="none" d="M868.0117 560 L1323.8334 560 L1323.8334 695 L1324.9388 709.6664" clip-path="url(#clipPath2)"/>
      <path d="M1325.5402 717.6437 L1329.624 705.3019 L1324.8636 708.6692 L1319.6523 706.0535 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="1334.0031" xml:space="preserve" y="632.1841" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. Need to resume other stacks </text>
      <text x="1334.0031" xml:space="preserve" y="646.1529" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    or run fainlizers (i.e. attemps !== null)</text>
      <path fill="none" d="M1331.1859 803.6854 L1258.1478 803.0344 L1258.1478 760.5344 L949.9561 760.5344 L841.9149 581.8459" clip-path="url(#clipPath2)"/>
      <path d="M837.7756 575 L839.7058 587.8559 L842.4323 582.7017 L848.2632 582.6818 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="1015.8903" xml:space="preserve" y="687.3408" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. Cannot recover from unmasked interrupt</text>
      <text x="1015.8903" xml:space="preserve" y="701.3095" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    (i.e. interrupt </text>
      <text x="1015.8903" xml:space="preserve" y="715.2783" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     &amp;&amp; interrupt !== tmp </text>
      <text x="1015.8903" xml:space="preserve" y="729.247" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     &amp;&amp; bracketCount === 0</text>
      <text x="1015.8903" xml:space="preserve" y="743.2158" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     )</text>
      <path fill="none" d="M1331.1859 804 L1258.1478 804 L1258.1478 930 L495.1979 930 L376.8929 1110.8057" clip-path="url(#clipPath2)"/>
      <path d="M372.5127 1117.5 L383.267 1110.1962 L377.4405 1109.9689 L374.8991 1104.7209 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="947.7918" xml:space="preserve" y="813.7881" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. If an exception was raised </text>
      <text x="947.7918" xml:space="preserve" y="827.7569" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    (i.e. fail !== null), </text>
      <text x="947.7918" xml:space="preserve" y="841.7256" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    then run the exception handler </text>
      <text x="947.7918" xml:space="preserve" y="855.6944" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    and clear the error</text>
      <text x="947.7918" xml:space="preserve" y="869.6631" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="947.7918" xml:space="preserve" y="883.6319" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = attempt._2(util.fromLeft(fail))</text>
      <text x="947.7918" xml:space="preserve" y="897.6006" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">fail = null</text>
      <path fill="none" d="M1355.7181 1160.5 L1267.2604 1160.5 L1267.2604 1091 L857.506 1091 L830.0612 584.9854" stroke-width="3" clip-path="url(#clipPath2)"/>
      <path d="M829.5196 575 L824.0912 590.3165 L830.1289 586.2335 L836.5729 589.6395 Z" stroke-width="3" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="877.7102" xml:space="preserve" y="963.1494" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. Cannot recover from unmasked interrupt or exception</text>
      <text x="877.7102" xml:space="preserve" y="977.1182" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">   (i.e.  ( (    interrupt </text>
      <text x="877.7102" xml:space="preserve" y="991.0869" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">             &amp;&amp; interrupt !== tmp </text>
      <text x="877.7102" xml:space="preserve" y="1005.0557" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">             &amp;&amp; bracketcount === 0</text>
      <text x="877.7102" xml:space="preserve" y="1019.0244" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">             ) </text>
      <text x="877.7102" xml:space="preserve" y="1032.9932" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">             || fail</text>
      <text x="877.7102" xml:space="preserve" y="1046.9619" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">             )</text>
      <path fill="none" d="M1355.7181 1160.5 L1267.2604 1160.5 L1267.2604 1245.5 L808.7061 1245.5 L808.7061 812.8125 L401.9512 812.8125" clip-path="url(#clipPath2)" stroke="rgb(51,153,0)"/>
      <path fill="rgb(51,153,0)" d="M393.9512 812.8125 L405.9512 817.8125 L402.9512 812.8125 L405.9512 807.8125 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="832.8906" xml:space="preserve" y="1126.1333" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. Remove the Right data constructor and store the value in step</text>
      <text x="832.8906" xml:space="preserve" y="1140.1021" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    and transfer the continuation stack from attempt to bhead/tail</text>
      <text x="832.8906" xml:space="preserve" y="1154.0708" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="832.8906" xml:space="preserve" y="1168.0396" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = util.fromRight(step)</text>
      <text x="832.8906" xml:space="preserve" y="1182.0083" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bhead = attempt._1</text>
      <text x="832.8906" xml:space="preserve" y="1195.9771" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">btail = attempt._2</text>
      <path fill="none" d="M1357.8763 1516.5 L702.6979 1516.5 L702.6979 1315.8334 L824.5609 584.8639" stroke-width="3" clip-path="url(#clipPath2)"/>
      <path d="M826.2053 575 L817.5738 588.7681 L824.3553 586.0969 L829.9036 590.8235 Z" stroke-width="3" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="759.87" xml:space="preserve" y="1347.9629" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. If fiber has not been interrupted (i.e. fail === null)</text>
      <text x="759.87" xml:space="preserve" y="1361.9316" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     AND (the interrupt status has changed (i.e. interrupt !== tmp)</text>
      <text x="759.87" xml:space="preserve" y="1375.9004" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">            OR we are within an interruptable fiber (i.e. bracketCount === 0)</text>
      <text x="759.87" xml:space="preserve" y="1389.8691" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">            ),</text>
      <text x="759.87" xml:space="preserve" y="1403.8379" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     then decrease bracketCount, enqueue the handlers,</text>
      <text x="759.87" xml:space="preserve" y="1417.8066" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     and continue with the success branch</text>
      <text x="759.87" xml:space="preserve" y="1431.7754" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="759.87" xml:space="preserve" y="1445.7441" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount--</text>
      <text x="759.87" xml:space="preserve" y="1459.7129" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">result = util.formRigt(step)</text>
      <text x="759.87" xml:space="preserve" y="1473.6816" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = new Aff(CONS, new Aff(RELEASE, attempt._2, result), attempts, tmp)</text>
      <path fill="none" d="M1357.8763 1516.5 L1178.9479 1516.5 L1178.9479 1988.75 L530.1979 1988.75 L559.9375 1532.3125 L821.8954 584.6385" stroke-width="3" clip-path="url(#clipPath2)"/>
      <path d="M824.5598 575 L814.5392 587.7926 L821.5624 585.8434 L826.5874 591.123 Z" stroke-width="3" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="576.8609" xml:space="preserve" y="1915.8838" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">3. If the fiber has ben interrupted (i.e. fail !== null)</text>
      <text x="576.8609" xml:space="preserve" y="1929.8525" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    then decrease bracketCount and loop</text>
      <text x="576.8609" xml:space="preserve" y="1943.8213" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="576.8609" xml:space="preserve" y="1957.79" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount--</text>
      <path fill="none" d="M1357.8763 1516.5 L1145.1979 1516.5 L1145.1979 1806.25 L595.1979 1806.25 L370.4838 1155.0624" clip-path="url(#clipPath2)"/>
      <path d="M367.8741 1147.5 L367.0621 1160.4746 L370.81 1156.0077 L376.5151 1157.2125 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="620.9308" xml:space="preserve" y="1651.1703" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. If fiber has not been interrupted (i.e. fail === null)</text>
      <text x="620.9308" xml:space="preserve" y="1665.139" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     AND (the interrupt status has not changed  (i.e. interrupt === tmp)</text>
      <text x="620.9308" xml:space="preserve" y="1679.1078" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">              OR the finalizer is not interruptable</text>
      <text x="620.9308" xml:space="preserve" y="1693.0765" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">              )</text>
      <text x="620.9308" xml:space="preserve" y="1707.0453" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     then decrease bracketCount, enqueue the handlers,</text>
      <text x="620.9308" xml:space="preserve" y="1721.014" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">     and continue with the success branch</text>
      <text x="620.9308" xml:space="preserve" y="1734.9828" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="620.9308" xml:space="preserve" y="1748.9515" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount--</text>
      <text x="620.9308" xml:space="preserve" y="1762.9203" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">result = util.formRigt(step)</text>
      <text x="620.9308" xml:space="preserve" y="1776.889" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = attempt._3(result)</text>
      <text x="620.9308" xml:space="preserve" y="1790.8578" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = new Aff(CONS, new Aff(RELEASE, attempt._2, result), attempts, tmp)</text>
      <path fill="none" d="M1359.0482 2139 L495.1979 2139 L365.7167 1155.4315" clip-path="url(#clipPath2)"/>
      <path d="M364.6725 1147.5 L361.2815 1160.0499 L365.8472 1156.423 L371.196 1158.7448 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="559.2264" xml:space="preserve" y="2022.5951" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. If the fiber has been killed (i.e. interrupt !== tmp &amp;&amp; bracketCount === 0)</text>
      <text x="559.2264" xml:space="preserve" y="2036.5638" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    and we are in a non-masked state, which means it can be killed (i.e. bracketCount === 0)</text>
      <text x="559.2264" xml:space="preserve" y="2050.5325" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="559.2264" xml:space="preserve" y="2064.5012" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = new Aff(CONS, new AFf(FINALIZED, step, fail), attempts, interrupt)</text>
      <text x="559.2264" xml:space="preserve" y="2078.47" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = attempt._1.killed(util.fromLeft(interrrupt))(attempt._2)</text>
      <text x="559.2264" xml:space="preserve" y="2092.4387" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">fail = null</text>
      <text x="559.2264" xml:space="preserve" y="2106.4075" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount++</text>
      <path fill="none" d="M1359.0482 2139 L1182.0729 2139 L1123.4791 2299.5833 L466.7408 2299.5833 L364.7455 1155.4684" clip-path="url(#clipPath2)"/>
      <path d="M364.0351 1147.5 L360.1204 1159.8966 L364.8343 1156.4645 L370.0809 1159.0087 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="559.6393" xml:space="preserve" y="2166.3506" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. If the fiber is in a masked state (i.e. bracketCount !== 0)</text>
      <text x="559.6393" xml:space="preserve" y="2180.3193" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    AND ??? (fail !== null)</text>
      <text x="559.6393" xml:space="preserve" y="2194.2881" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    then ???</text>
      <text x="559.6393" xml:space="preserve" y="2208.2568" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="559.6393" xml:space="preserve" y="2222.2256" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = new Aff(CONS, new AFf(FINALIZED, step, fail), attempts, interrupt)</text>
      <text x="559.6393" xml:space="preserve" y="2236.1943" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = attempt._1.failed(util.fromLeft(fail))(attempt._2)</text>
      <text x="559.6393" xml:space="preserve" y="2250.1631" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">fail = null</text>
      <text x="559.6393" xml:space="preserve" y="2264.1318" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount++</text>
      <path fill="none" d="M1359.0482 2139 L1195.9001 2139 L1203.7126 2505.4778 L320.7448 2505.4778 L361.9952 1155.4962" clip-path="url(#clipPath2)"/>
      <path d="M362.2395 1147.5 L356.8753 1159.3417 L361.9646 1156.4958 L366.8707 1159.6471 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="552.0874" xml:space="preserve" y="2369.8623" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">3. If the fiber has not been killed (i.e. interrupt === tmp || bracketCount !== 0)</text>
      <text x="552.0874" xml:space="preserve" y="2383.8311" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    AND it has not failed (i.e. fail !== null)</text>
      <text x="552.0874" xml:space="preserve" y="2397.7998" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    Then enqueue the next step</text>
      <text x="552.0874" xml:space="preserve" y="2411.7686" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="552.0874" xml:space="preserve" y="2425.7373" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = new Aff(CONS, new AFf(FINALIZED, step, fail), attempts, interrupt)</text>
      <text x="552.0874" xml:space="preserve" y="2439.7061" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = attempt._1.completed(util.fromRight(step))(attempt._2)</text>
      <text x="552.0874" xml:space="preserve" y="2453.6748" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">fail = null</text>
      <text x="552.0874" xml:space="preserve" y="2467.6436" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount++</text>
      <path fill="none" d="M1356.85 2732.5781 L184.6383 2732.5781 L360.1439 1155.4509" clip-path="url(#clipPath2)"/>
      <path d="M361.0286 1147.5 L354.7321 1158.8734 L360.0333 1156.4448 L364.6708 1159.9794 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="518.9607" xml:space="preserve" y="2611.6143" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Enqueues a new finalizer and stores the original </text>
      <text x="518.9607" xml:space="preserve" y="2625.583" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step and fail values before continuing</text>
      <text x="518.9607" xml:space="preserve" y="2639.5518" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="518.9607" xml:space="preserve" y="2653.5205" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount++</text>
      <text x="518.9607" xml:space="preserve" y="2667.4893" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = new Aff(CONS, new Aff(FINALIZED, step, fail), attempts, interrupt)</text>
      <text x="518.9607" xml:space="preserve" y="2681.458" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = attempt._1</text>
      <path fill="none" d="M1356.306 3012.9102 L-17.2479 3012.9102 L820.2726 584.4536" stroke-width="3" clip-path="url(#clipPath2)"/>
      <path d="M823.5329 575 L812.7339 587.1427 L819.8651 585.6353 L824.5509 591.2181 Z" stroke-width="3" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="508.446" xml:space="preserve" y="2910.4792" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Finalizer completed, so return step and fail back</text>
      <text x="508.446" xml:space="preserve" y="2924.448" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">to original values before the FINALIZER step occurred</text>
      <text x="508.446" xml:space="preserve" y="2938.4167" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="508.446" xml:space="preserve" y="2952.3855" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount--</text>
      <text x="508.446" xml:space="preserve" y="2966.3542" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = attempt._1</text>
      <text x="508.446" xml:space="preserve" y="2980.323" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">fail = attempt._2</text>
    </g>
    <g fill="rgb(245,245,245)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(245,245,245)">
      <rect x="-657.6797" y="1384.9062" clip-path="url(#clipPath2)" width="233" rx="4" ry="4" height="1581.7588" stroke="none"/>
      <rect x="-657.6797" y="1384.9062" clip-path="url(#clipPath2)" fill="rgb(235,235,235)" width="233" height="73.8438" stroke="none"/>
    </g>
    <g font-size="15px" stroke-linecap="butt" transform="matrix(1,0,0,1,1508,-132)" text-rendering="geometricPrecision" font-family="sans-serif" shape-rendering="geometricPrecision" stroke-miterlimit="1.45">
      <text x="-633.7029" xml:space="preserve" y="1400.8296" clip-path="url(#clipPath2)" stroke="none">CONTINUE -&gt; CONTINUE</text>
      <text x="-635.4167" xml:space="preserve" y="1418.2905" clip-path="url(#clipPath2)" stroke="none">CONTINUE -&gt; STEP_BIND</text>
      <text x="-645.634" xml:space="preserve" y="1435.7515" clip-path="url(#clipPath2)" stroke="none">CONTINUE -&gt; STEP_RESULT</text>
      <text x="-628.6016" xml:space="preserve" y="1453.2124" clip-path="url(#clipPath2)" stroke="none">CONTINUE -&gt; PENDING</text>
      <rect x="-657.6797" y="1384.9062" clip-path="url(#clipPath2)" fill="none" width="233" stroke-dasharray="6,2" rx="4" ry="4" height="1581.7588"/>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="-550.9281" width="59.252" height="30" y="1473.75" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="-550.9281" width="59.252" height="30" y="1473.75" clip-path="url(#clipPath2)"/>
      <text x="-543.928" xml:space="preserve" y="1492.9043" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. BIND</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="-555.9036" width="61.2031" height="30" y="1590.75" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="-555.9036" width="61.2031" height="30" y="1590.75" clip-path="url(#clipPath2)"/>
      <text x="-548.9036" xml:space="preserve" y="1609.9043" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. PURE</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="-551.0853" width="61.5664" height="30" y="1692.75" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="-551.0853" width="61.5664" height="30" y="1692.75" clip-path="url(#clipPath2)"/>
      <text x="-544.0853" xml:space="preserve" y="1711.9043" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">3. SYNC</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="-555.1898" width="69.7754" height="30" y="1777.75" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="-555.1898" width="69.7754" height="30" y="1777.75" clip-path="url(#clipPath2)"/>
      <text x="-548.1898" xml:space="preserve" y="1796.9043" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">4. ASYNC</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="-555.9349" width="75.2656" height="30" y="1862.75" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="-555.9349" width="75.2656" height="30" y="1862.75" clip-path="url(#clipPath2)"/>
      <text x="-548.9349" xml:space="preserve" y="1881.9043" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">5. THROW</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="-553.6868" width="66.7695" height="30" y="2128.03" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="-553.6868" width="66.7695" height="30" y="2128.03" clip-path="url(#clipPath2)"/>
      <text x="-546.6868" xml:space="preserve" y="2147.1843" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">6 CATCH</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="-562.9036" width="85.2031" height="30" y="2493.3623" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="-562.9036" width="85.2031" height="30" y="2493.3623" clip-path="url(#clipPath2)"/>
      <text x="-555.9036" xml:space="preserve" y="2512.5166" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">7. BRACKET</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="-585.2884" width="61.8184" height="30" y="2651.4844" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="-585.2884" width="61.8184" height="30" y="2651.4844" clip-path="url(#clipPath2)"/>
      <text x="-578.2884" xml:space="preserve" y="2670.6387" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">8. FORK</text>
    </g>
    <g fill="rgb(255,204,0)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke="rgb(255,204,0)">
      <rect x="-501.599" width="50.0938" height="30" y="2883.46" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,1508,-132)" stroke-linecap="butt">
      <rect fill="none" x="-501.599" width="50.0938" height="30" y="2883.46" clip-path="url(#clipPath2)"/>
      <text x="-494.599" xml:space="preserve" y="2902.6143" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">9.SEQ</text>
      <path fill="none" d="M316.5602 1132.5 L-552.6797 1132.5 L-549.9858 1376.8846" clip-path="url(#clipPath2)" stroke="rgb(255,153,0)"/>
      <path fill="rgb(255,153,0)" d="M-549.8977 1384.8842 L-545.0302 1372.8298 L-549.9969 1375.8846 L-555.0296 1372.9399 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M-491.6761 1488.75 L-392.9167 1488.75 L-392.9167 1295 L20.8333 1295 L268.3333 1182.75 L327.4681 1151.2601" clip-path="url(#clipPath2)"/>
      <path d="M334.5294 1147.5 L321.5874 1148.7269 L326.5854 1151.7301 L326.2876 1157.5535 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-392.3251" xml:space="preserve" y="1205.3177" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. bhead has a value (bhead !== null)</text>
      <text x="-392.3251" xml:space="preserve" y="1219.2865" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-392.3251" xml:space="preserve" y="1233.2552" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">btail = new Aff(CONS, bhead, btail)</text>
      <text x="-392.3251" xml:space="preserve" y="1247.224" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bhead = step._2</text>
      <text x="-392.3251" xml:space="preserve" y="1261.1927" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = step._1</text>
      <path fill="none" d="M-491.6761 1488.75 L-362.9167 1488.75 L-362.9167 1416.5 L-362.9167 1417.5 L-6.6667 1417.5 L274.5833 1194 L334.6464 1152.0787" clip-path="url(#clipPath2)"/>
      <path d="M341.2065 1147.5 L328.5046 1150.2679 L333.8263 1152.651 L334.228 1158.4681 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-339.2665" xml:space="preserve" y="1344.1194" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. bhead does not have a value (bhead === null)</text>
      <text x="-339.2665" xml:space="preserve" y="1358.0881" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-339.2665" xml:space="preserve" y="1372.0569" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bhead = step._2</text>
      <text x="-339.2665" xml:space="preserve" y="1386.0256" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = step._1</text>
      <path fill="none" d="M-494.7005 1605.75 L-3.3507 1605.75 L336.5965 835.132" clip-path="url(#clipPath2)"/>
      <path d="M339.8253 827.8125 L330.4074 836.7736 L336.1929 836.0469 L339.5567 840.8098 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-290.9258" xml:space="preserve" y="1544.9762" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. bhead has a value (bhead !== null)</text>
      <text x="-290.9258" xml:space="preserve" y="1558.9449" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-290.9258" xml:space="preserve" y="1572.9137" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = step._1</text>
      <path fill="none" d="M-494.7005 1605.75 L-336.1979 1605.75 L-336.1979 1523.0625 L3.6458 1523.0625 L185.1504 1320.0098 L489.1504 1333.0098 L818.8997 582.3245" clip-path="url(#clipPath2)"/>
      <path d="M822.1171 575 L812.7132 583.976 L818.4976 583.2401 L821.8689 587.9976 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-308.0665" xml:space="preserve" y="1469.5291" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. bhead does not have a value (bhead === null)</text>
      <text x="-308.0665" xml:space="preserve" y="1483.4978" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-308.0665" xml:space="preserve" y="1497.4666" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = util.right(step._1)</text>
      <path fill="none" d="M-551.0853 1707.75 L-711.1979 1707.75 L-711.1979 624 L282.7598 624" clip-path="url(#clipPath2)"/>
      <path d="M290.7598 624 L278.7598 619 L281.7598 624 L278.7598 629 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-125.1845" xml:space="preserve" y="594.2421" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = runSync(util.left, util.right, step._1)</text>
      <path fill="none" d="M-555.1898 1792.75 L-793.9377 1792.75 L-793.9377 147.7023 L2245.6289 147.7023 L2245.6289 208.5" clip-path="url(#clipPath2)"/>
      <path d="M2245.6289 216.5 L2250.6289 204.5 L2245.6289 207.5 L2240.6289 204.5 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-1137.4868" xml:space="preserve" y="953.0151" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Run an asychronous computation whose callback</text>
      <text x="-1137.4868" xml:space="preserve" y="966.9838" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">will set the fiber's status to STEP_RESULT if it was </text>
      <text x="-1137.4868" xml:space="preserve" y="980.9526" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">not interrupted</text>
      <text x="-1137.4868" xml:space="preserve" y="994.9213" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-1137.4868" xml:space="preserve" y="1008.8901" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = runAsync(util.left, step._1, function (result) {</text>
      <text x="-1137.4868" xml:space="preserve" y="1022.8588" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-1137.4868" xml:space="preserve" y="1036.8276" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">  return function () {</text>
      <text x="-1137.4868" xml:space="preserve" y="1050.7964" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    if (runTick !== localRunTick) { return; }</text>
      <text x="-1137.4868" xml:space="preserve" y="1064.7651" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    runTick++</text>
      <text x="-1137.4868" xml:space="preserve" y="1078.7339" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    Scheduler.enqueue(function () {</text>
      <text x="-1137.4868" xml:space="preserve" y="1092.7026" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">      if (runTick !== localRunTick + 1) { return; }</text>
      <text x="-1137.4868" xml:space="preserve" y="1106.6714" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">      status = STEP_RESULT;</text>
      <text x="-1137.4868" xml:space="preserve" y="1120.6401" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">      step = result;</text>
      <text x="-1137.4868" xml:space="preserve" y="1134.6089" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">      run(runTick);</text>
      <text x="-1137.4868" xml:space="preserve" y="1148.5776" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    })</text>
      <text x="-1137.4868" xml:space="preserve" y="1162.5464" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">  })</text>
      <text x="-1137.4868" xml:space="preserve" y="1176.5151" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">})</text>
      <path fill="none" d="M-480.6693 1877.8181 L-95.2284 1878.5156 L185.1504 1392.0098 L495.1504 1416.0098 L819.9565 582.4541" clip-path="url(#clipPath2)"/>
      <path d="M822.8611 575 L813.8455 584.3658 L819.5934 583.3859 L823.1631 587.9965 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-342.6221" xml:space="preserve" y="1791.2386" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">Store a Left error in fail</text>
      <text x="-342.6221" xml:space="preserve" y="1805.2074" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">and set the next computation to null</text>
      <text x="-342.6221" xml:space="preserve" y="1819.1761" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-342.6221" xml:space="preserve" y="1833.1449" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">fail = util.left(Step._1)</text>
      <text x="-342.6221" xml:space="preserve" y="1847.1136" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = null</text>
      <path fill="none" d="M-502.3242 2128.03 L-392.12 2036.08 L-102.0634 2036.08 L351.3234 1154.6141" clip-path="url(#clipPath2)"/>
      <path d="M354.9825 1147.5 L345.0475 1155.8842 L350.866 1155.5034 L353.9401 1160.4581 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-390.0892" xml:space="preserve" y="1926.2352" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. if bhead has no value (bhead === null)</text>
      <text x="-390.0892" xml:space="preserve" y="1940.204" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-390.0892" xml:space="preserve" y="1954.1727" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = new Aff(CONS, step, attempts, interrupt);</text>
      <text x="-390.0892" xml:space="preserve" y="1968.1415" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bhead = null</text>
      <text x="-390.0892" xml:space="preserve" y="1982.1102" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">btail = null</text>
      <text x="-390.0892" xml:space="preserve" y="1996.079" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = step._1</text>
      <path fill="none" d="M-500.7772 2158.03 L-370.3978 2258.1938 L-116.4446 2258.1938 L353.1801 1154.861" clip-path="url(#clipPath2)"/>
      <path d="M356.3132 1147.5 L347.013 1156.5833 L352.7885 1155.7811 L356.2142 1160.4996 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-352.7209" xml:space="preserve" y="2073.947" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. if bhead has no value (i.e. bhead === null)</text>
      <text x="-352.7209" xml:space="preserve" y="2087.9158" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-352.7209" xml:space="preserve" y="2101.8845" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = </text>
      <text x="-352.7209" xml:space="preserve" y="2115.8533" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    new Aff(CONS, step, </text>
      <text x="-352.7209" xml:space="preserve" y="2129.822" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">        new Aff(CONS, </text>
      <text x="-352.7209" xml:space="preserve" y="2143.7908" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">            new Aff(RESUME, bhead, btail), </text>
      <text x="-352.7209" xml:space="preserve" y="2157.7595" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">            attempts, </text>
      <text x="-352.7209" xml:space="preserve" y="2171.7283" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">            interrupt), </text>
      <text x="-352.7209" xml:space="preserve" y="2185.697" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">        interrupt</text>
      <text x="-352.7209" xml:space="preserve" y="2199.6658" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    )</text>
      <text x="-352.7209" xml:space="preserve" y="2213.6345" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bhead = null</text>
      <text x="-352.7209" xml:space="preserve" y="2227.6033" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">btail = null</text>
      <text x="-352.7209" xml:space="preserve" y="2241.572" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = step._1</text>
      <path fill="none" d="M-496.6786 2493.3623 L-402.4755 2433.5469 L-99.3796 2433.5469 L354.6931 1155.0387" clip-path="url(#clipPath2)"/>
      <path d="M357.3705 1147.5 L348.6427 1157.1346 L354.3584 1155.981 L358.0661 1160.4813 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-408.7298" xml:space="preserve" y="2324.9287" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. bhead has no value (i.e. bhead === null)</text>
      <text x="-408.7298" xml:space="preserve" y="2338.8975" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-408.7298" xml:space="preserve" y="2352.8662" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount++</text>
      <text x="-408.7298" xml:space="preserve" y="2366.835" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = new Aff(CONS, step, attempts, interrupt)</text>
      <text x="-408.7298" xml:space="preserve" y="2380.8037" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bhead = null</text>
      <text x="-408.7298" xml:space="preserve" y="2394.7725" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">btail = null</text>
      <text x="-408.7298" xml:space="preserve" y="2408.7412" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = step._1</text>
      <path fill="none" d="M-508.767 2523.3623 L-380.5028 2690.1545 L-109.5067 2690.1545 L355.8297 1155.1559" clip-path="url(#clipPath2)"/>
      <path d="M358.1506 1147.5 L349.8842 1157.5333 L355.5396 1156.1129 L359.4542 1160.4344 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-365.8075" xml:space="preserve" y="2477.9531" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">2. bhead has a value (i.e. bhead !== null)</text>
      <text x="-365.8075" xml:space="preserve" y="2491.9219" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-365.8075" xml:space="preserve" y="2505.8906" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bracketCount++</text>
      <text x="-365.8075" xml:space="preserve" y="2519.8594" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">attempts = </text>
      <text x="-365.8075" xml:space="preserve" y="2533.8281" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    new Aff(CONS, step, </text>
      <text x="-365.8075" xml:space="preserve" y="2547.7969" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">        new Aff(CONS, </text>
      <text x="-365.8075" xml:space="preserve" y="2561.7656" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">            new Aff(RESUME, bhead, btail), </text>
      <text x="-365.8075" xml:space="preserve" y="2575.7344" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">            attempts, </text>
      <text x="-365.8075" xml:space="preserve" y="2589.7031" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">            interrupt), </text>
      <text x="-365.8075" xml:space="preserve" y="2603.6719" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">        interrupt</text>
      <text x="-365.8075" xml:space="preserve" y="2617.6406" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">    )</text>
      <text x="-365.8075" xml:space="preserve" y="2631.6094" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">bhead = null</text>
      <text x="-365.8075" xml:space="preserve" y="2645.5781" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">btail = null</text>
      <text x="-365.8075" xml:space="preserve" y="2659.5469" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = step._1</text>
      <path fill="none" d="M-564.2536 2651.4844 L-737.2182 2388.7366 L-1298.2144 2388.7366 L-1314.9281 428.8669 L244.6401 428.0874 L334.9592 601.9012" clip-path="url(#clipPath2)"/>
      <path d="M338.6479 609 L337.5515 596.0463 L334.4981 601.0139 L328.678 600.6572 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-1011.342" xml:space="preserve" y="2273.9634" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. Has a supervisor and step._1</text>
      <text x="-1011.342" xml:space="preserve" y="2287.9321" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">   (i.e. supervisor !== null &amp;&amp; step._1 !== null)</text>
      <text x="-1011.342" xml:space="preserve" y="2301.9009" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-1011.342" xml:space="preserve" y="2315.8696" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">tmp = Fiber(util, supervisor, step._2)</text>
      <text x="-1011.342" xml:space="preserve" y="2329.8384" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">supervisor.register(tmp)</text>
      <text x="-1011.342" xml:space="preserve" y="2343.8071" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">tmp.run()</text>
      <text x="-1011.342" xml:space="preserve" y="2357.7759" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = util.right(tmp)</text>
      <path fill="none" d="M-585.2884 2656.1194 L-745.25 2602.4785 L-1351.1714 2602.4785 L-1362.1089 383.5508 L274.5929 376.267 L339.8636 601.3167" clip-path="url(#clipPath2)"/>
      <path d="M342.0919 609 L343.5515 596.0822 L339.585 600.3562 L333.9472 598.8677 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-1040.3969" xml:space="preserve" y="2500.6453" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. Has a supervisor but no step._1</text>
      <text x="-1040.3969" xml:space="preserve" y="2514.614" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">   (i.e. supervisor !== null &amp;&amp; step._1 === null)</text>
      <text x="-1040.3969" xml:space="preserve" y="2528.5828" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-1040.3969" xml:space="preserve" y="2542.5515" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">tmp = Fiber(util, supervisor, step._2)</text>
      <text x="-1040.3969" xml:space="preserve" y="2556.5203" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">supervisor.register(tmp)</text>
      <text x="-1040.3969" xml:space="preserve" y="2570.489" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = util.right(tmp)</text>
      <path fill="none" d="M-576.9439 2681.4844 L-730.2807 2783.416 L-1411.375 2783.416 L-1397.3906 342.7711 L307.5706 333.7415 L343.3717 601.0708" clip-path="url(#clipPath2)"/>
      <path d="M344.4336 609 L347.7965 596.4425 L343.2389 600.0797 L337.885 597.7698 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-1078.728" xml:space="preserve" y="2680.6484" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. Has no supervisor but has step._1</text>
      <text x="-1078.728" xml:space="preserve" y="2694.6172" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">   (i.e. supervisor === null &amp;&amp; step._1 !== null)</text>
      <text x="-1078.728" xml:space="preserve" y="2708.5859" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-1078.728" xml:space="preserve" y="2722.5547" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">tmp = Fiber(util, supervisor, step._2)</text>
      <text x="-1078.728" xml:space="preserve" y="2736.5234" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">tmp.run()</text>
      <text x="-1078.728" xml:space="preserve" y="2750.4922" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = util.right(tmp)</text>
      <path fill="none" d="M-564.5574 2681.4844 L-722.7807 2914.666 L-1492.625 2912.4531 L-1435.6071 299.3005 L346.4424 299.3005 L346.4424 601" clip-path="url(#clipPath2)"/>
      <path d="M346.4424 609 L351.4424 597 L346.4424 600 L341.4424 597 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-1074.8871" xml:space="preserve" y="2840.4929" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">1. Has no supervisor, nor step._1</text>
      <text x="-1074.8871" xml:space="preserve" y="2854.4617" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">   (i.e. supervisor === null &amp;&amp; step._1 === null)</text>
      <text x="-1074.8871" xml:space="preserve" y="2868.4304" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none"> </text>
      <text x="-1074.8871" xml:space="preserve" y="2882.3992" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">tmp = Fiber(util, supervisor, step._2)</text>
      <text x="-1074.8871" xml:space="preserve" y="2896.3679" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = util.right(tmp)</text>
      <path fill="none" d="M-451.5052 2898.46 L-45.6523 2898.46 L357.427 1155.2943" clip-path="url(#clipPath2)"/>
      <path d="M359.2293 1147.5 L351.6544 1158.0651 L357.2018 1156.2687 L361.3973 1160.318 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <text x="-326.0663" xml:space="preserve" y="2865.4072" clip-path="url(#clipPath2)" font-family="sans-serif" stroke="none">step = sequential(util, supervisor, step._1)</text>
    </g>
  </g>
</svg>
